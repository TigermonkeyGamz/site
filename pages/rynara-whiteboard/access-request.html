<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Request Canva Access</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400..900&family=Share+Tech+Mono&display=swap" rel="stylesheet">
<style>
body { margin:0; padding:0; font-family:'Share Tech Mono', sans-serif; background:#0d0d0d; color:#e3dd9d; text-align:center; }
.button { background-color:#b3b302; color:#000; font-family:'Orbitron',sans-serif; font-weight:500; padding:12px 20px; border:none; border-radius:8px; cursor:pointer; }
.button:hover { background-color:#e3dd9d; transform:scale(1.05); box-shadow:0 0 20px #400909; }
#emailForm { margin:50px auto; max-width:400px; display:flex; flex-direction:column; gap:15px; }
#emailForm input[type="email"] { padding:10px; font-size:16px; border-radius:6px; border:1px solid #555; outline:none; }
#status { margin-top:10px; font-size:14px; opacity:0.9; }
</style>
</head>
<body>

<h1>Request Canva Access</h1>
<p>Enter your email below to request access.</p>

<form id="emailForm">
  <input type="email" id="userEmail" placeholder="Enter your email" required />
  <button type="submit" class="button">Submit</button>
</form>
<p id="status"></p>

<script>
document.getElementById('emailForm').addEventListener('submit', async function(e){
  e.preventDefault();
  const email = document.getElementById('userEmail').value;
  const status = document.getElementById('status');

  try {
    const res = await fetch('https://tigermonkeygamz.pythonanywhere.com/email-confirmation', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ email })
    });

    if(res.ok){
      status.innerText = "Your request has been submitted! âœ…";
      document.getElementById('userEmail').value = '';
    } else {
      const err = await res.json();
      status.innerText = "Error: " + (err.error || "Something went wrong");
    }
  } catch(err){
    status.innerText = "Server error. Please try later.";
    console.error(err);
  }
});
</script>

</body>
</html>

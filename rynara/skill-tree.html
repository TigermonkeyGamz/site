<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400..900&family=Share+Tech+Mono&display=swap" rel="stylesheet">
<title>Rynara Skill Tree</title>

<style>
:root{
  --header-height:100px;
}

body{
  margin:0;
  padding:0;
  font-family:'Share Tech Mono',system-ui,sans-serif;
  background:#0d0d0d;
  color:#e3dd9d;
  text-align:center;
  overflow:hidden;
}

a{
  color:#e3dd9d;
  text-decoration:none;
}

/* ============================= */
/* HEADER */
/* ============================= */

.embedded .site-header{
  display:none;
}

.site-header{
  position:sticky;
  top:0;
  z-index:1000;
  height:var(--header-height);
  background:linear-gradient(180deg,#000 0%,#0d0d0d 100%);
  border-bottom:1px solid #222;
}

.header-inner{
  max-width:1750px;
  margin:0 auto;
  padding:10px 24px;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:space-between;
}

/* BRAND */
.brand{
  display:flex;
  flex-direction:column;
  align-items:flex-start;
}

.brand-name{
  font-family:'Orbitron',sans-serif;
  font-size:28px;
  font-weight:800;
  letter-spacing:1px;
  background:linear-gradient(90deg,#e3dd9d,#b3b302);
  background-clip:text;
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

.brand-tagline{
  font-size:12px;
  opacity:0.75;
  margin-top:2px;
}

/* NAV */
.header-nav{
  display:flex;
  gap:24px;
}

.header-nav a{
  font-family:'Orbitron',sans-serif;
  font-size:14px;
  letter-spacing:.5px;
  opacity:.85;
  position:relative;
}

.header-nav a::after{
  content:"";
  position:absolute;
  left:0;
  bottom:-4px;
  width:0%;
  height:2px;
  background:#e3dd9d;
  transition:width .25s ease;
}

.header-nav a:hover::after{width:100%;}
.header-nav a:hover{opacity:1;}

/* ============================= */
/* VIEWPORT */
/* ============================= */

#viewport {
  position: relative;
  width: 100vw;
  height: calc(100vh - var(--header-height));
  cursor: grab;
  overflow: hidden;
}

/* Embedded mode — no header, fill full space */
.embedded #viewport {
  height: 100vh;
}

/* WORLD */
#world{
  position:absolute;
  left:50%;
  top:50%;
  transform-origin:0 0;
}

/* SKILLS */
.skill{
  position:absolute;
  background:#222;
  border-radius:50%;
  cursor:pointer;
  user-select:none;
  transition:.2s;
  box-shadow:0 0 10px rgba(255,255,255,0.3);
  display:flex;
  align-items:center;
  justify-content:center;
  border:4px solid #555;
  z-index:5;
}

.skill:hover{
  background:#444;
  box-shadow:0 0 15px #fff;
}

.unlocked{
  background:#d4a526!important;
  box-shadow:0 0 20px gold;
}

.line{
  position:absolute;
  height:2px;
  background:#fff;
  transform-origin:left center;
  z-index:1;
}

.tooltip{
  position:absolute;
  background:rgba(0,0,0,.85);
  color:#fff;
  padding:6px 10px;
  border-radius:5px;
  pointer-events:none;
  font-size:14px;
  white-space:nowrap;
  display:none;
  z-index:2000;
}

/* SKILL POINTS */

#skill-points{
  position:fixed;
  left:10px;
  top:calc(var(--header-height) + 10px);
  color:#fff;
  font-size:18px;
  background:#222;
  padding:5px 10px;
  border-radius:5px;
  box-shadow:0 0 10px #000;
  z-index:900;
}

.embedded #skill-points{
  top:10px;
}

/* GRID (allowed underneath) */

#grid{
  position:absolute;
  left:-2000px;
  top:-2000px;
  width:4000px;
  height:4000px;
  z-index:-2;
}
</style>
</head>

<body>

<header class="site-header">
<div class="header-inner">
<div class="brand">
<span class="brand-name">TigermonkeyGamz</span>
<span class="brand-tagline">Indie Games • Devlogs</span>
</div>

<nav class="header-nav">
<a href="https://tigermonkeygamz.github.io/site/index.html">Home</a>
<a href="https://tigermonkeygamz.github.io/site/pages/games.html">Games</a>
<a href="#">Devlogs</a>
</nav>
</div>
</header>

<div id="skill-points">Skill Points: <span id="sp-count">10</span></div>

<div id="viewport">
<div id="world">
<canvas id="grid"></canvas>
</div>
</div>

<div class="tooltip" id="tooltip"></div>

<script>
if(window.self!==window.top){
document.body.classList.add("embedded");
}

let sp=10;

const viewport=document.getElementById('viewport');
const world=document.getElementById('world');
const tooltip=document.getElementById('tooltip');
const spCount=document.getElementById('sp-count');

const gridCanvas=document.getElementById('grid');
const gridCtx=gridCanvas.getContext('2d');

let cameraX=0;
let cameraY=0;
let zoom=1;

let dragging=false;
let lastX=0,lastY=0;

const skillData=[
{id:'skill1',name:'Way of the Warrior',desc:'Increased Melee Damage<br>Skill: Spin',cost:2,parent:null,x:-200,y:15,size:40,borderColor:'#FF0000'},
{id:'skill2',name:'Flurry',desc:'Attack multiple times in an instant',cost:3,parent:'skill1',x:-350,y:0,size:70,borderColor:'#00FF00'},
{id:'skill3',name:'Jump',desc:'Jump in the air and strike enemies',cost:2,parent:'skill2',x:-550,y:70,size:70,borderColor:'#0000FF'},
{id:'skill4',name:'Power Parry',desc:'Parry as you put up your shield',cost:1,parent:'skill2',x:-550,y:-70,size:70,borderColor:'#FFFF00'}
];

function drawGrid(){
gridCanvas.width=4000;
gridCanvas.height=4000;
gridCtx.clearRect(0,0,4000,4000);

gridCtx.strokeStyle='#333';
gridCtx.fillStyle='#555';
gridCtx.font='12px sans-serif';

const step=100;
const center=2000;

for(let x=0;x<=4000;x+=step){
gridCtx.beginPath();
gridCtx.moveTo(x,0);
gridCtx.lineTo(x,4000);
gridCtx.stroke();
gridCtx.fillText(x-center,x+2,center+12);
}

for(let y=0;y<=4000;y+=step){
gridCtx.beginPath();
gridCtx.moveTo(0,y);
gridCtx.lineTo(4000,y);
gridCtx.stroke();
gridCtx.fillText(center-y,center+2,y-2);
}
}

skillData.forEach(skill=>{
const div=document.createElement('div');
div.className='skill';
div.id=skill.id;

div.style.left=skill.x+'px';
div.style.top=skill.y+'px';
div.style.width=skill.size+'px';
div.style.height=skill.size+'px';
div.style.borderColor=skill.borderColor;

world.appendChild(div);

div.onmouseover=e=>{
tooltip.style.display='block';
tooltip.innerHTML=`<b>${skill.name}</b><br>${skill.desc}<br>SP Cost: ${skill.cost}`;
};
div.onmousemove=e=>{
tooltip.style.left=e.pageX+15+'px';
tooltip.style.top=e.pageY+15+'px';
};
div.onmouseout=()=>tooltip.style.display='none';

div.onclick=()=>{
if(div.classList.contains('unlocked'))return;
if(sp>=skill.cost){
sp-=skill.cost;
spCount.textContent=sp;
div.classList.add('unlocked');
drawLines();
}
};
});

function drawLines(){
world.querySelectorAll('.line').forEach(l=>l.remove());

skillData.forEach(skill=>{
if(!skill.parent)return;

const parent=document.getElementById(skill.parent);
const child=document.getElementById(skill.id);

const px=parent.offsetLeft+parent.offsetWidth/2;
const py=parent.offsetTop+parent.offsetHeight/2;
const cx=child.offsetLeft+child.offsetWidth/2;
const cy=child.offsetTop+child.offsetHeight/2;

const dx=cx-px;
const dy=cy-py;
const len=Math.sqrt(dx*dx+dy*dy);
const angle=Math.atan2(dy,dx)*180/Math.PI;

const line=document.createElement('div');
line.className='line';
line.style.width=len+'px';
line.style.left=px+'px';
line.style.top=py+'px';
line.style.transform=`rotate(${angle}deg)`;

world.appendChild(line);
});
}

viewport.addEventListener('mousedown',e=>{
dragging=true;
viewport.style.cursor='grabbing';
lastX=e.clientX;
lastY=e.clientY;
});

window.addEventListener('mouseup',()=>{
dragging=false;
viewport.style.cursor='grab';
});

window.addEventListener('mousemove',e=>{
if(!dragging)return;
cameraX+=e.clientX-lastX;
cameraY+=e.clientY-lastY;
lastX=e.clientX;
lastY=e.clientY;
updateCamera();
});

viewport.addEventListener('wheel',e=>{
e.preventDefault();
const zoomFactor=1.1;
zoom*=e.deltaY<0?zoomFactor:1/zoomFactor;
zoom=Math.min(Math.max(zoom,0.3),3);
updateCamera();
},{passive:false});

function updateCamera(){

  const bounds = 1800; // how far you can drag from center

  const minX = -bounds * zoom;
  const maxX =  bounds * zoom;
  const minY = -bounds * zoom;
  const maxY =  bounds * zoom;

  cameraX = Math.max(minX, Math.min(maxX, cameraX));
  cameraY = Math.max(minY, Math.min(maxY, cameraY));

  world.style.transform =
    `translate(${cameraX}px,${cameraY}px) scale(${zoom})`;
}


drawGrid();
drawLines();
updateCamera();
</script>
</body>
</html>






